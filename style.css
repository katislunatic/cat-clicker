:root{
  --bg-dark: #050507;
  --accent: #ffb86b;
  --muted: #99a3b2;
  --glass: rgba(255,255,255,0.03);
  --rounded: 14px;
  --accent-2: #ffd89b;
  --shadow: 0 10px 30px rgba(0,0,0,0.6);
}

*{box-sizing:border-box}
html,body{height:100%;margin:0}
body{
  font-family: Inter, ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale;
  display:flex; align-items:stretch; justify-content:center;
  padding:24px;
  background-image: url('https://cookieclicker.wiki.gg/images/thumb/BgBlack.jpg/320px-BgBlack.jpg');
  background-color: var(--bg-dark);
  background-size: cover;
  background-position: center;
  color: #e6eef6;
}

#app{ width:100%; max-width:1100px; display:flex; flex-direction:column; gap:16px; }

.topbar{
  display:flex; justify-content:space-between; align-items:center;
  padding:14px; border-radius:var(--rounded);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  box-shadow: var(--shadow);
  border: 1px solid rgba(255,255,255,0.03);
}
.title{ font-weight:800; font-size:20px; color:var(--accent-2) }
.stats{text-align:right}
.big-number{ font-size:22px; font-weight:800 }
.sub{ color:var(--muted); font-size:13px; margin-top:4px }

.main{ display:grid; grid-template-columns: 1fr; gap:16px; align-items:start; position:relative; overflow:hidden; transition: transform 0.35s ease; }

.center{
  position:relative;
  padding:22px;
  border-radius:var(--rounded);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border: 1px solid rgba(255,255,255,0.03);
  min-height:520px;
  display:flex; flex-direction:column; align-items:center; justify-content:flex-start;
  overflow:hidden;
}

/* Big cat button */
.cat-button{
  width: 420px;
  height: 420px;
  border-radius:34px;
  display:flex; align-items:center; justify-content:center;
  cursor:pointer;
  position:relative;
  transform-origin:center;
  box-shadow: 0 18px 48px rgba(0,0,0,0.6);
  background: radial-gradient(120px 80px at 50% 35%, rgba(255,255,255,0.12), rgba(255,255,255,0.02));
  border: 1px solid rgba(255,255,255,0.04);
  user-select:none;
  -webkit-tap-highlight-color: transparent;
}

.cat-button img{ width:50%; height:auto; image-rendering: pixelated; pointer-events:none; transform-origin:center; display:block; }
.cat-button .ring{ position:absolute; width:86%; height:86%; border-radius:50%; box-shadow: 0 0 0 6px rgba(255,200,130,0.06), 0 0 40px 10px rgba(255,180,80,0.06); opacity:0; transition:opacity 220ms ease; pointer-events:none; }

.cat-button:active{ transform: scale(0.98); }
.cat-button:active .ring{ opacity:0.12; }

.click-info{ margin-top:16px; text-align:center }
.pill{ background:var(--glass); border-radius:999px; padding:8px 14px; border:1px solid rgba(255,255,255,0.03); color:var(--muted); cursor:pointer }
.tiny{ color:var(--muted); font-size:13px }

/* Shop panel */
.shop{
  position:absolute;
  top:0; right:-400px;
  width:360px;
  height:100%;
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border-radius:var(--rounded);
  padding:12px;
  display:flex; flex-direction:column; gap:12px;
  border:1px solid rgba(255,255,255,0.03);
  transition: right 0.35s ease;
  z-index:90;
}
.shop.open{ right:0; }

.shop-header{ font-weight:800; color:var(--accent-2) }
.shop-list{ display:flex; flex-direction:column; gap:10px; max-height:520px; overflow:auto; padding-right:6px }
.shop-item{ display:flex; align-items:center; gap:8px; padding:8px; border-radius:10px; border:1px solid rgba(255,255,255,0.02); background: rgba(255,255,255,0.01) }
.item-icon{ width:46px; height:46px; border-radius:10px; display:flex; align-items:center; justify-content:center; background:linear-gradient(180deg,#fff,#ffdca8); color:#1b1320; font-weight:800; box-shadow: 0 6px 12px rgba(0,0,0,0.35) }
.item-body{ flex:1 } .item-name{ font-weight:700 } .item-desc{ font-size:12px; color:var(--muted); margin-top:4px }
.item-right{ display:flex; flex-direction:column; align-items:flex-end; gap:6px }
.btn{ padding:8px 12px; border-radius:10px; border:0; cursor:pointer; background: linear-gradient(180deg,var(--accent), #ff9b47); color:#111; font-weight:700 }
.btn.small{ padding:6px 8px; font-size:13px }
.danger{ background:transparent; border:1px solid rgba(255,255,255,0.06); color:var(--muted) }

/* Shop toggle button */
.shop-toggle{
  position:absolute;
  top:16px;
  right:16px;
  width:50px;
  height:50px;
  border:none;
  background:transparent;
  cursor:pointer;
  z-index:100;
}
.shop-toggle img{ width:100%; height:100%; object-fit:contain; }

/* Footer */
.footer{ color:var(--muted); font-size:13px; text-align:center; padding-bottom:8px }

/* Effects layer */
.effects-layer{ position:absolute; left:0; top:0; right:0; bottom:0; pointer-events:none; overflow:visible; }
.floating-number{ position:absolute; font-weight:900; color:var(--accent-2); text-shadow: 0 2px 6px rgba(0,0,0,0.6); transform-origin:center; animation: floatUp 900ms cubic-bezier(.2,.8,.2,1) forwards; will-change: transform, opacity; }
@keyframes floatUp { 0% { transform: translateY(0) scale(1); opacity:1 } 70% { transform: translateY(-40px) scale(1.18); opacity:0.9 } 100% { transform: translateY(-90px) scale(1.3); opacity:0 } }

.falling-cat{ position:fixed; width:64px; height:auto; left:0; top:-80px; pointer-events:none; image-rendering: pixelated; transform-origin:center; will-change: transform, opacity; animation: fallDown linear forwards; }
@keyframes fallDown { 0% { transform: translateY(-120vh) rotate(0deg); opacity:1 } 85% { opacity:1 } 100% { transform: translateY(110vh) rotate(30deg); opacity:0 } }

/* Responsive */
@media (max-width:900px){
  .center{ min-height:640px }
  .cat-button{ width: 300px; height:300px; border-radius:22px }
  .falling-cat{ width:52px }
  .shop{ width:280px; }
}